---
title: JVM笔记逃逸分析
date: 2020-07-22 14:54:56
tags: [JVM笔记]
---

# JVM笔记逃逸分析

## 堆是分配对象的唯一选择么
![堆是分配对象的唯一选择么](/img/2020-07-02/29.png)
<!--more-->

## 逃逸分析的定义
![逃逸分析的定义](/img/2020-07-02/30.png)
![逃逸分析的分析](/img/2020-07-02/31.png)
### 常见逃逸分析的场景
在逃逸分析中,已经说明了.  
分别是:
1.给成员变量赋值  
2.方法返回值  
3.实例引用传递 


### 栈上分配

### 同步忽略
![同步忽略](/img/2020-07-02/32.png)
例如:
![同步忽略案例](/img/2020-07-02/33.png)
### 标量替换
```
默认是开启标量替换的
参数: -XX:EliminateAllocations 
允许将对象打散分配到栈上
```
![标量替换](/img/2020-07-02/34.png)

# 注意
Hotspot JVM 里面对象都是分配在堆上的
![标量替换](/img/2020-07-02/35.png)