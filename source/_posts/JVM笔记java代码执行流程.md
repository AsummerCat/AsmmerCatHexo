---
title: JVM笔记java代码执行流程
date: 2020-07-22 14:48:02
tags: [JVM笔记]
---

# JVM笔记java代码执行流程


## 三大商用JVM虚拟机
```
1. HotSpot   (多领域)
2. BEA的 JRockit (主要服务端应用 ->适合财务,军事指挥,电信网络的需求) 
3. IBM的 J9 (多领域)
```
<!--more-->

## java代码执行流程
```
1. java源码
生成->
java编译器流程
-->
2.词法分析
3.语法分析
4.语法/抽象语法树
5.语义分析
6.注解抽象语法树
7.字节码生成器
-->
生成->
8.字节码
java虚拟机-->
9.类加载器
10.字节码校验器
11.翻译字节码(解释执行)
11.JIT编译器(编译执行)
-->
12.操作系统

```
<!--more-->

## 类加载子系统
```
1.字节码文件
-->
类加载子系统   (转换为方法区的运行时结构)
2.加载阶段
  引导类加载器
  扩展类加载器
  系统类加载器
3.链接阶段
  验证
  准备
  解析
4.初始化阶段
初始化
```
![类加载过程](/img/2020-07-02/1.png)
![类加载过程](/img/2020-07-02/2.png)

## 关于ClassLoader的方法

![关于ClassLoader的常规方法](/img/2020-07-02/3.png)

## 双亲委派机制
加载class 会从
```
引导类加载器 
扩展类加载器 
系统类加载器
用户自定义加载器

从上到下 找不到就用下一个查找

避免 自己建立的类破坏了类的安全性

比如list类 不能自己手动创建

1.避免类的重复加载
2.保护程序安全,防止核心api被篡改
 
 
 沙箱安全机制

```
![双亲委派机制](/img/2020-07-02/4.png)