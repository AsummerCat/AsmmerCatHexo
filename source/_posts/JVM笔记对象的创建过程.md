---
title: JVM笔记对象的创建过程
date: 2020-07-22 15:00:20
tags: [JVM笔记]
---

# JVM笔记对象的创建过程

## 对象的实例化
![对象的实例化](/img/2020-07-02/51.png)  

<!--more-->
## 对象的内存布局
![对象的内存布局](/img/2020-07-02/52.png)  

### 对象头(Header)里面有什么东西
```
两部分:
1.运行时元数据(Mark Word)
  ->哈希值
  ->GC分代年龄
  ->锁状态标志
  ->线程持有的锁
  ->偏向线程ID
  ->偏向时间戳
  
2.类型指针
  ->指向类元数据InstanceKlass,确定该对象属的类型
```
![对象的整体内存布局](/img/2020-07-02/53.png)  
## 对象的访问定位
![对象的访问定位](/img/2020-07-02/54.png)  
对象访问的两种方式:  
1.句柄访问  
![句柄访问](/img/2020-07-02/55.png)  
2.直接指针 (Hotspot采用的方式) 
![直接指针](/img/2020-07-02/56.png)  