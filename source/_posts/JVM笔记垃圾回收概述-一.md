---
title: JVM笔记垃圾回收概述(一)
date: 2020-07-25 15:03:32
tags: [JVM笔记]
---

# JVM笔记垃圾回收概述(一)

## 什么是垃圾
```
垃圾是指在运行程序中没有任何指针指向的对象,
这个对象就是需要被回收的垃圾

```
## 垃圾回收的过程
![垃圾回收的过程,s1的比例](/img/2020-07-02/25.png)
<!--more-->

## 内存担保 ->新生代不够直接晋升老年代
![内存担保例](/img/2020-07-02/28.png)
### JVM参数修改新生代与老年代的占比
```
默认新生代占堆的1/3 老年代2/3 
修改新生代老年代的占比 :-XX:NewRatio=2 
```
```
默认:新生代中的伊甸园区和s0,s1的比例->8:1:1
修改新生代:  -XX:SurvivorRatio=8

ps: 如果占比不对的话 是因为有自适应内存分配的关系
手动关闭自适应内存分配:
-xx:-UseAdaptiveSizePolicy


还有一个参数: -Xmn 设置新生代的最大内存
```

![JVM参数修改新生代与老年代的占比](/img/2020-07-02/23.png)    
![JVM参数修新生代中的伊甸园区和s0,s1的比例](/img/2020-07-02/24.png)

### 新对象默认15次minor GC还存在的话
<font style="color:red">15次还存在 就移动到老年代</font>可以设置JVM参数调整次数
```
手动修改对象在新生代经历几次minor GC后移动到老年代
JVM参数: -XX:MaxTenuringThreshold=N 
来进行设置
```